(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{1265:function(e,t,o){"use strict";o.d(t,{ZP:function(){return p},Eu:function(){return d}});var n=o(318),a=o(1163),r=o(7294),s=o(7964),c=o(9206),i=(o(5527),o(5893)),u=(0,r.createContext)(),l={available:!1,waitUntil:null};var d=function(){var e=(0,r.useContext)(u);if(void 0===e)throw new Error("useAuthContext must be used within a useAuthContext");return e},p=function(e){var t=e.children,o=(0,s.X)("userToken",null),d=(0,n.Z)(o,2),p=d[0],f=d[1],h=(0,s.X)("receivedStatus",l),m=(0,n.Z)(h,2),v=m[0],w=m[1],g=(0,r.useState)(!0),_=g[0],y=g[1],b=(0,r.useState)(null),S=b[0],O=b[1],z=(0,r.useState)(p),k=z[0],L=z[1],C=(0,r.useState)(null),j=C[0],T=C[1],P=(0,r.useState)(null),A=P[0],E=(P[1],(0,r.useState)(!1)),I=E[0],N=E[1],U=(0,r.useState)(!1),x=U[0],M=U[1],R=(0,r.useState)(null),Z=R[0],B=R[1],D=(0,r.useState)(!0),J=D[0],X=D[1],V=(0,r.useState)(""),Y=V[0],G=V[1],q=(0,r.useState)(""),W=q[0],F=q[1],K=(0,r.useState)(!1),$=K[0],H=K[1],Q=(0,r.useState)(!1),ee=Q[0],te=Q[1],oe=(0,r.useState)(!1),ne=oe[0],ae=oe[1],re=(0,a.useRouter)(),se=function(){return null===ce||void 0===ce?void 0:ce.some((function(e){return re.pathname===e}))},ce=["/profile/gvs","/profile/kapiel","/profile/luk","/profile/stand-up","/profile/sebastian","/profile/gaming","/profile"],ie=["/stand-up"];(0,r.useEffect)((function(){k&&ue(k)}),[v.waitUntil,k]);var ue=function(e){var t,o;if(null===v.waitUntil&&(o=e.uuid,fetch("https://api2.maszwybor.pl/consumer/stats",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o,"X-Mode-Local":Boolean(sessionStorage.getItem("devParams"))}}).then((function(e){return e.json()})).then((function(e){e.status.success&&e.data.voucher&&w(e.data.voucher)}),(function(e){console.log(e)}))),null!==(t=v.waitUntil)&&void 0!==t&&t.date){var n;y(!0);var a=Date.now(),r=new Date(null===v||void 0===v||null===(n=v.waitUntil)||void 0===n?void 0:n.date).getTime();setTimeout((function(){w(l),y(!1)}),r-a)}else y(!1)};(0,r.useEffect)((function(){(0,c.ai)(),"/fryzury"===re.pathname||"/jedzenie"===re.pathname||("/kapiel"===re.pathname?(0,c.a3)("variant","/kapiel"):"/luk"===re.pathname?(0,c.a3)("variant","/luk"):"/kapiel"===re.pathname?(0,c.a3)("variant","/kapiel"):"/gvs"===re.pathname?(0,c.a3)("variant","/gvs"):"/kup-teraz"===re.pathname?(0,c.a3)("variant","/kup-teraz"):"/sebastian"===re.pathname?(0,c.a3)("variant","/sebastian"):"/stand-up"===re.pathname?(0,c.a3)("variant","/stand-up"):"/gaming"===re.pathname&&(0,c.a3)("variant","/gaming")),ae(null===ie||void 0===ie?void 0:ie.some((function(e){return(0,c.eY)("variant")===e})))}),[]),(0,r.useEffect)((function(){f(k)}),[k,L]);var le=function e(){var t=document.querySelector(".helpButton")||!1;t?(H(t),window.location.href.includes("/profile/faq")?t.classList.remove("hidde-chat"):t.classList.add("hidde-chat")):setTimeout((function(){e()}),600)},de=function e(){var t=document.querySelector(".dockableContainer")||!1;t?te(t):setTimeout((function(){e()}),600)};(0,r.useEffect)((function(){le()}),[re.pathname]),(0,r.useEffect)((function(){de()}),[]),(0,r.useEffect)((function(){var e=(0,c.eY)("loginToken");e&&pe(e)}),[]);var pe=function(e){N(!0),fetch("https://api2.maszwybor.pl/consumer/details",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e,"X-Mode-Local":Boolean(sessionStorage.getItem("devParams"))},body:JSON.stringify({withToken:!0})}).then((function(e){return e.json()})).then((function(e){var t;null!==(t=e.status)&&void 0!==t&&t.success?(L(e.data.token),N(!1)):"error_unauthorized"===e.data.error?fe():N(!1)}),(function(e){fe(),console.log(e)}))};(0,r.useEffect)((function(){var e=document.querySelector(".helpButton")||!1;x&&se()&&e?(e.classList.remove("home-chat"),e.classList.remove("home-chat-without-voucher"),e.classList.add("home-chat")):!x&&se()&&e&&k||e&&k?(e.classList.remove("home-chat"),e.classList.remove("home-chat-without-voucher"),e.classList.add("home-chat-without-voucher")):e&&!k&&(e.classList.remove("home-chat"),e.classList.remove("home-chat-without-voucher")),e&&window.location.href.includes("/profile/velo")?(e.classList.remove("home-chat"),e.classList.remove("home-chat-without-voucher"),e.classList.add("velo-chat")):e&&!window.location.href.includes("/profile/velo")&&e.classList.remove("velo-chat")}),[$,se,k]),(0,r.useEffect)((function(){var e=document.querySelector(".dockableContainer")||!1;x&&se()&&e?(e.classList.remove("home-chat"),e.classList.remove("home-chat-without-voucher"),e.classList.add("home-chat")):!x&&se()&&e&&k||e&&k?(e.classList.remove("home-chat"),e.classList.remove("home-chat-without-voucher"),e.classList.add("home-chat-without-voucher")):e&&!k&&(e.classList.remove("home-chat"),e.classList.remove("home-chat-without-voucher")),e&&window.location.href.includes("/profile/velo")?(e.classList.remove("home-chat"),e.classList.remove("home-chat-without-voucher"),e.classList.add("velo-chat")):e&&!window.location.href.includes("/profile/velo")&&e.classList.remove("velo-chat")}),[$,se,k,ee]),(0,r.useEffect)((function(){if(k&&("/"===window.location.pathname||window.location.pathname.includes("/r/")||"/kapiel"===window.location.pathname||"/luk"===window.location.pathname||"/gvs"===window.location.pathname||"/ggl"===window.location.pathname||"/faq"===window.location.pathname||"/sebastian"===window.location.pathname||"/sebastian/"===window.location.pathname||"/stand-up"===window.location.pathname||"/kup-teraz"===window.location.pathname||"/gaming"===window.location.pathname||"/jedzenie"===window.location.pathname)){var e="/profile";(0,c.eY)("returnUrl")&&(e=(0,c.eY)("returnUrl"),(0,c.ch)("returnUrl")),re.replace((0,c.eY)("variant")?"/profile"+(0,c.eY)("variant"):e)}k&&(he(k.expires),ve(k.uuid),me(k.uuid))}),[k,L]),(0,r.useEffect)((function(){if(S&&j){var e,t,o,n,a,r,s,c,i=S.filter((function(e){return"maszwybor2022"===e.process||"maszwybor20_2022"===e.process||"maszwybor20_2022_test"===e.process||"alterzone20_2022"===e.process||"alterzone2022"===e.process||"altercloud20_2022"===e.process||"altercloud20_2022_test"===e.process||"maszwybor20_202206_test"===e.process||"maszwybor20_202206"===e.process||"altercloud20_202206_test"===e.process||"altercloud20_202206"===e.process||"maszwybor20_202206_UA_test"===e.process||"maszwybor20_202206_UA"===e.process||"alterzone20_202206"===e.process||"alterzone20_202206_test"===e.process||"maszwybor30_202209"===e.process||"maszwybor30_202209_test"===e.process||"altercloud30_202209"===e.process||"altercloud30_202209_test"===e.process||"alterzone30_202209"===e.process||"alterzone30_202209_test"===e.process||"maszwybor30_202209_UA"===e.process||"maszwybor30_202209_UA_test"===e.process}));if(null!==j&&void 0!==j&&j.eCommToken&&null!==(e=i[0])&&void 0!==e&&e.code)r="".concat("https://discoverglo.com/pl/pl","/checkout/cart/couponApply?coupon_code=").concat(null===(s=i[0])||void 0===s?void 0:s.code,"&token=").concat(null===j||void 0===j?void 0:j.eCommToken,"&destination=").concat("https://discoverglo.com/pl/pl","/checkout/cart/?utm_source=yourchoice&utm_medium=website&utm_campaign=yc-code&utm_content=").concat(null===(c=i[0])||void 0===c?void 0:c.code);else if(null!==(t=i[0])&&void 0!==t&&t.code){var u,l;r="".concat("https://discoverglo.com/pl/pl","/checkout/cart/couponApply?coupon_code=").concat(null===(u=i[0])||void 0===u?void 0:u.code,"&destination=").concat("https://discoverglo.com/pl/pl","/checkout/cart/?utm_source=yourchoice&utm_medium=website&utm_campaign=yc-code&utm_content=").concat(null===(l=i[0])||void 0===l?void 0:l.code)}else r="".concat("https://discoverglo.com/pl/pl","/sklep?yc=");var d=null!==j&&void 0!==j&&j.eCommToken&&null!==(o=i[0])&&void 0!==o&&o.code?"".concat("https://discoverglo.com/pl/pl","/checkout/cart/couponApply?coupon_code=").concat(null===(n=i[0])||void 0===n?void 0:n.code,"&token=").concat(null===j||void 0===j?void 0:j.eCommToken,"&destination=").concat("https://discoverglo.com/pl/pl","/sklep?utm_source=yourchoice&utm_medium=website&utm_campaign=yc-code&utm_content=").concat(null===(a=i[0])||void 0===a?void 0:a.code):"".concat("https://discoverglo.com/pl/pl","/sklep?yc=");G(r),F(d);var p=null===j||void 0===j?void 0:j.sfConsumerStatus,f=S.filter((function(e){return"zabka_vype_45_maszwybor"===e.process||"zabka_vype_30_maszywybor"===e.process||"maszwybor2022"===e.process||"alter_zone_test_2"===e.process||"altercloud2022"===e.process||"alterzone2022"===e.process||"maszwybor20_2022"===e.process||"maszwybor20_2022_test"===e.process||"alterzone20_2022"===e.process||"alterzone20_2022_test"===e.process||"altercloud20_2022"===e.process||"altercloud20_2022_test"===e.process||"maszwybor20_202206_test"===e.process||"maszwybor20_202206"===e.process||"altercloud20_202206_test"===e.process||"altercloud20_202206"===e.process||"maszwybor20_202206_UA_test"===e.process||"maszwybor20_202206_UA"===e.process||"alterzone20_202206"===e.process||"alterzone20_202206_test"===e.process||"alterzone2022"===e.process}));p||f.length>0||_||!v.available?M(!1):M(!0),B("".concat("https://alterzone.pl","?token=").concat(null===k||void 0===k?void 0:k.uuid)+"&tempToken="+(null===j||void 0===j?void 0:j.eCommToken)||0)}}),[S,j,y,_]);var fe=function(){(0,c.ch)("loginToken"),L(null),re.push((0,c.eY)("variant")?(0,c.eY)("variant"):"/")},he=function(e){null!==e&&void 0!==e&&e.date&&(new Date(e.date)<new Date&&fe())},me=function(e){X(!0),fetch("https://api2.maszwybor.pl/voucher/list",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e,"X-Mode-Local":Boolean(sessionStorage.getItem("devParams"))}}).then((function(e){return e.json()})).then((function(e){e.status.success?(O(e.data.voucher),X(!1)):X(!1)}),(function(e){console.log(e),X(!1)}))},ve=function(e,t){t||N(!0),fetch("https://api2.maszwybor.pl/consumer/details",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e,"X-Mode-Local":Boolean(sessionStorage.getItem("devParams"))}}).then((function(e){return e.json()})).then((function(e){var o;null!==(o=e.status)&&void 0!==o&&o.success?(T(e.data.consumer),t||N(!1)):"error_unauthorized"===e.data.error?fe():t||N(!1)}),(function(e){fe(),console.log(e)}))},we={userData:j,userToken:k,error:A,login:function(){cnosole.log("logowanie")},logout:fe,setUserToken:L,loading:I,setLoading:N,validateUser:ve,getUserDetails:function(e){N(!0),fetch("https://api2.maszwybor.pl/consumer/details",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e,"X-Mode-Local":Boolean(sessionStorage.getItem("devParams"))}}).then((function(e){return e.json()})).then((function(e){var t;null!==(t=e.status)&&void 0!==t&&t.success?(T(e.data.consumer),N(!1)):"error_unauthorized"===e.data.error?fe():N(!1)}),(function(e){fe(),console.log(e)}))},voucherList:S,showVoucherButton:x,strefaLink:Z,voucherLoading:J,ecommLink:Y,secoundModalVersion:ne,linkForBuy:W,setVoucherLoading:X,setVoucherList:O,setReceivedStatus:w,receivedStatus:v,setVoucherIsReceived:y,voucherIsReceived:_};return(0,i.jsx)(u.Provider,{value:we,children:t})}},520:function(e,t,o){"use strict";o.d(t,{a8:function(){return u},vR:function(){return d}});var n=o(318),a=o(7294),r=o(5527),s=o(7964),c=o(5893),i=(0,a.createContext)(),u={INACTIVE_USER:"INACTIVE_USER",JOIN_MGM:"JOIN_MGM",ACCOUNT_ACTIVATION:"ACCOUNT_ACTIVATION",UNKNOW_ERROR:"UNKNOW_ERROR"},l={technical:!0,performance:!1,communication:!1},d=function(){var e=(0,a.useContext)(i);if(void 0===e)throw new Error("useModalContext must be used within a ModalProvider");return e};t.ZP=function(e){var t,o,u=e.children,d=(0,s.X)("ageGate",!0),p=(0,n.Z)(d,2),f=p[0],h=p[1],m=(0,a.useState)(!1),v=m[0],w=m[1],g=(0,a.useState)(!1),_=g[0],y=g[1],b=(0,a.useState)(f),S=b[0],O=b[1],z=(0,a.useState)(!1),k=z[0],L=z[1],C=(0,a.useState)(!1),j=C[0],T=C[1],P=(0,a.useState)(!1),A=P[0],E=P[1],I=(0,a.useState)(null),N=I[0],U=I[1],x=(0,a.useState)(!1),M=x[0],R=x[1],Z=(0,a.useState)(null),B=Z[0],D=Z[1],J=(0,a.useState)(!1),X=J[0],V=J[1],Y=(0,r._)("cookieOptions",l),G=!(null!==(t=Y[0])&&void 0!==t&&t.communication)||!(null!==(o=Y[0])&&void 0!==o&&o.performance);(0,a.useEffect)((function(){G&&L(!0)}),[G]);return(0,c.jsx)(i.Provider,{value:{handleOpenCookieModal:function(){L(!0)},isOpen:v,handleCloseModal:function(){w(!1)},handleOpenModal:function(){w(!0)},toggleError:function(){y((function(e){return!e}))},error:_,isOpenCookies:k,isOpenAgeGate:S,handleCloseAgeGate:function(){h(!1),O(!1)},handleCloseCookies:function(){L(!1)},consentNeedAccepted:G,handleCloseRegister:function(){T(!1)},handleOpenRegister:function(){T(!0)},handleCloseLogin:function(){R(!1),E(!1)},setRemind:R,remind:M,handleOpenLogin:function(){E(!0)},isOpenLogin:A,isOpenRegister:j,modalVariant:B,handleOpenGlobalModal:function(e,t){console.log("variant,error",e,t),U(t),V(!0),D(e),console.log(e,t,"globalModal")},handleCloseGlobalModal:function(){V(!1),D(null),U(null)},openModal:X,modalError:N},children:u})}},5527:function(e,t,o){"use strict";o.d(t,{_:function(){return a}});var n=o(7294);function a(e,t){var o=(0,n.useState)((function(){if(window)try{var o=window.localStorage.getItem(e);return o?JSON.parse(o):t}catch(n){return console.log(n),t}})),a=o[0],r=o[1];return[a,function(t){try{var o=t instanceof Function?t(a):t;r(o),window.localStorage.setItem(e,JSON.stringify(o))}catch(n){console.log(n)}}]}},7964:function(e,t,o){"use strict";o.d(t,{X:function(){return a}});var n=o(7294);function a(e,t){var o=(0,n.useState)(function(e,t){var o=sessionStorage.getItem(e);return o?JSON.parse(o):t}(e,t)),a=o[0],r=o[1];return(0,n.useEffect)((function(){sessionStorage.setItem(e,JSON.stringify(a))}),[e,a]),[a,r]}},7672:function(e,t,o){"use strict";o.r(t);var n=o(2809),a=(o(2114),o(520)),r=o(1265),s=o(9008),c=(o(3043),o(6326),o(7082),o(7789),o(4312),o(4298)),i=o(5893);function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}t.default=function(e){var t=e.Component,o=e.pageProps;return(0,i.jsx)(r.ZP,{children:(0,i.jsxs)(a.ZP,{children:[(0,i.jsxs)(s.default,{children:[(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,i.jsx)("title",{children:"Zakaz mentoli? Poznaj alternatywy dla papieros\xf3w | MaszWyb\xf3r"})]}),(0,i.jsx)(t,l({},o)),(0,i.jsx)(c.default,{src:"https://www.googletagmanager.com/gtag/js?id=DC-12231390",strategy:"afterInteractive"}),(0,i.jsx)(c.default,{id:"google-analytics",strategy:"afterInteractive",children:"\n          window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n\n            gtag('config', 'DC-12231390');\n        "})]})})}},9206:function(e,t,o){"use strict";function n(e){var t=window.location.search.replace("?","");if(t){var o=t.split("&"),n={};o.forEach((function(e){(e=e.split("="))[0]&&(n[e[0]]=e[1]||null)})),sessionStorage.setItem("urlParams",JSON.stringify(n)),e&&window.history.replaceState({},document.title,document.location.pathname)}}function a(e){return(JSON.parse(sessionStorage.getItem("urlParams"))||{})[e]||null}function r(e,t){var o=JSON.parse(sessionStorage.getItem("urlParams"))||{};return o[e]=t||null,sessionStorage.setItem("urlParams",JSON.stringify(o)),o}function s(e){var t=JSON.parse(sessionStorage.getItem("urlParams"))||{};return delete t[e],sessionStorage.setItem("urlParams",JSON.stringify(t)),t}o.d(t,{ai:function(){return n},eY:function(){return a},a3:function(){return r},ch:function(){return s}})},1780:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return o(7672)}])},6326:function(){},3043:function(){},7789:function(){},4312:function(){},7082:function(){},2114:function(){},9008:function(e,t,o){e.exports=o(639)},1163:function(e,t,o){e.exports=o(4651)},4298:function(e,t,o){e.exports=o(7926)},6586:function(e,t,o){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}o.d(t,{Z:function(){return n}})},2809:function(e,t,o){"use strict";function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{Z:function(){return n}})},318:function(e,t,o){"use strict";o.d(t,{Z:function(){return a}});var n=o(6988);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,a,r=[],s=!0,c=!1;try{for(o=o.call(e);!(s=(n=o.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(i){c=!0,a=i}finally{try{s||null==o.return||o.return()}finally{if(c)throw a}}return r}}(e,t)||(0,n.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},6988:function(e,t,o){"use strict";o.d(t,{Z:function(){return a}});var n=o(6586);function a(e,t){if(e){if("string"===typeof e)return(0,n.Z)(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?(0,n.Z)(e,t):void 0}}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,179],(function(){return t(1780),t(4651)}));var o=e.O();_N_E=o}]);